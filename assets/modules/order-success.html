<!-- order-success.html -->
<div id="orderSuccessOverlay" class="fixed inset-0 hidden items-center justify-center z-[9999] bg-[rgba(10,11,15,0.85)] backdrop-blur-md">
  <div class="glass relative p-10 rounded-3xl text-center flex flex-col items-center justify-center overflow-hidden shadow-[0_0_50px_rgba(212,175,55,0.25)] animate-fadeIn">

    <!-- Header Row -->
    <div class="flex items-center justify-center gap-6 mb-8 relative z-10">
      <!-- Logo -->
      <img src="/morIcon.png" alt="Morrow Industries Logo"
           class="w-20 h-20 object-contain drop-shadow-[0_0_15px_rgba(212,175,55,0.5)] animate-fadeGlow"/>

      <!-- Divider -->
      <span class="text-[var(--gold)] text-3xl font-light select-none">|</span>

      <!-- Spinning Halo + Checkmark -->
      <div class="relative w-20 h-20 flex items-center justify-center">
        <!-- Halo -->
        <div class="absolute w-20 h-20 rounded-full border-2 border-[rgba(212,175,55,0.25)] animate-spin-slow"></div>
        <div class="absolute w-24 h-24 rounded-full bg-[rgba(212,175,55,0.05)] blur-3xl"></div>
        <!-- Checkmark -->
        <svg xmlns="http://www.w3.org/2000/svg"
             class="w-10 h-10 text-[var(--gold)] animate-scaleIn relative z-10"
             fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
        </svg>
      </div>
    </div>

    <!-- Text -->
    <h2 class="text-2xl font-serif text-[var(--gold)]">Order Placed Successfully!</h2>
    <p class="text-[var(--muted)] mt-2 max-w-xs leading-relaxed">
      Your order has been confirmed and will appear in your account shortly.
    </p>

    <button id="closeSuccessBtn" class="btn btn-primary mt-8 px-6 py-2">Continue</button>
  </div>
</div>

<style>
  :root {
    --gold:#d4af37;--muted:#a9b0be;--border:rgba(255,255,255,0.08);
  }
  .glass {
    background:rgba(18,20,27,.65);
    backdrop-filter:saturate(160%) blur(18px);
    border:1px solid var(--border);
  }
  @keyframes fadeIn {
    from { opacity:0; transform:scale(0.92); }
    to { opacity:1; transform:scale(1); }
  }
  @keyframes fadeOut {
    from { opacity:1; transform:scale(1); }
    to { opacity:0; transform:scale(0.92); }
  }
  @keyframes scaleIn {
    0% { transform:scale(0) rotate(-45deg); opacity:0; }
    60% { transform:scale(1.1) rotate(8deg); opacity:1; }
    100% { transform:scale(1) rotate(0); }
  }
  .animate-scaleIn { animation: scaleIn 0.6s cubic-bezier(0.25, 1, 0.5, 1); }
  .animate-fadeIn { animation: fadeIn 0.4s ease forwards; }
  .animate-spin-slow { animation: spin 6s linear infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }

  @keyframes fadeGlow {
    0%,100% { filter: drop-shadow(0 0 10px rgba(212,175,55,0.4)); opacity: 1; }
    50% { filter: drop-shadow(0 0 20px rgba(212,175,55,0.8)); opacity: 0.9; }
  }
  .animate-fadeGlow { animation: fadeGlow 3s ease-in-out infinite; }

  .btn {
    border:1px solid var(--border);
    color:var(--gold);
    border-radius:.6rem;
    transition:all .2s ease;
  }
  .btn-primary {
    border-color:var(--gold);
  }
  .btn:hover {
    transform:translateY(-2px);
    box-shadow:0 0 20px rgba(212,175,55,0.3);
  }
</style>

<script>
  // === Order Success Animation Logic ===
  window.showOrderSuccess = function() {
    const overlay = document.getElementById('orderSuccessOverlay');
    if (!overlay) return;
    overlay.style.display = 'flex';
    overlay.animate([{opacity:0},{opacity:1}],{duration:300,fill:'forwards'});
  };

  document.addEventListener('click', (e)=>{
    if(e.target.id === 'closeSuccessBtn'){
      const overlay = document.getElementById('orderSuccessOverlay');
      if(!overlay) return;
      overlay.animate([{opacity:1},{opacity:0}],{duration:300,fill:'forwards'}).onfinish=()=>{
        overlay.style.display='none';
      };
    }
  });
</script>